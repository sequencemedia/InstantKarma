{"version":3,"sources":["webpack:///server.js","webpack:///webpack/bootstrap 4ec0d6d6ca537d00c39b?9d20","webpack:///./list.js?f632","webpack:///./hash.js?f738","webpack:///./verbs.js?7b51","webpack:///./server/peace.io.rest.js","webpack:///./~/eventemitter3/index.js","webpack:///./~/node-uuid/uuid.js","webpack:///./server/utilities.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","List","all","this","has","key","length","prototype","fetch","store","value","push","purge","list","n","splice","Hash","query","create","remove","Peace","parameters","spark","verbs","self","constructor","Object","peace","Spark","server","merge","on","prime","uuid","v4","state","sparkList","attachAllListeners","listen","emitter","emit","channel","channelList","name","removeAllListeners","s","v","e","emitterList","Emitter","report","event","message","sparks","String","forEach","send","begin","handler","cease","_emitter","EE","fn","context","once","EventEmitter","prefix","_events","undefined","listeners","exists","evt","available","i","l","ee","Array","a1","a2","a3","a4","a5","args","len","arguments","removeListener","apply","j","listener","events","off","addListener","setMaxListeners","prefixed","parse","buf","offset","ii","toLowerCase","replace","oct","_hexToByte","unparse","bth","_byteToHex","v1","options","b","clockseq","_clockseq","msecs","Date","getTime","nsecs","_lastNSecs","dt","_lastMSecs","Error","tl","tmh","node","_nodeId","BufferClass","rnds","random","rng","_rng","_global","_rb","require","randomBytes","crypto","getRandomValues","_rnds8","Uint8Array","_rnds","r","Math","Buffer","toString","substr","_seedBytes","_channel","_spark2","_spark","Function","hasOwnProperty","alpha","omega","cache","verb","attachListener","listenerFactory","callback","console","log"],"mappings":"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","file":"server.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/Users/jonathanperry/Documents/GitHub/Instance/public/assets/js\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(6);\n\n\n/***/ },\n/* 1 */,\n/* 2 */,\n/* 3 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t(function () {\n\t\n\t\t'use strict';\n\t\n\t\tfunction List() {\n\t\t\tvar all = {};\n\t\t\tthis.has = function (key) {\n\t\t\t\treturn (all[key] || []).length > 0;\n\t\t\t};\n\t\t\tthis.all = function () {\n\t\t\t\treturn all;\n\t\t\t};\n\t\t}\n\t\tList.prototype.fetch = function (key) {\n\t\t\t//console.log('fetch', key);\n\t\t\treturn this.all()[key];\n\t\t};\n\t\tList.prototype.store = function (key, value) {\n\t\t\t//console.log('store', key); //, value);\n\t\t\t(this.all()[key] || (this.all()[key] = [])).push(value);\n\t\t};\n\t\tList.prototype.purge = function (key, value) {\n\t\t\t//console.log('purge', key); //, value);\n\t\t\tvar list, n;\n\t\t\tif (list = this.all()[key]) {\n\t\t\t\tn = 0;\n\t\t\t\twhile (n < list.length) {\n\t\t\t\t\tif (list[n] === value) {\n\t\t\t\t\t\t//console.log(n);\n\t\t\t\t\t\tlist.splice(n, 1);\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tn = n + 1;\n\t\t\t\t}\n\t\t\t\tif (this.has(key)) return true;\n\t\t\t\tdelete this.all()[key];\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\t\n\t\tmodule.exports = List;\n\t})();\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t(function () {\n\t\n\t\t'use strict';\n\t\n\t\tfunction Hash() {\n\t\t\tvar all = {};\n\t\t\tthis.has = function (key) {\n\t\t\t\tfor (key in all) return true;\n\t\t\t\treturn false;\n\t\t\t};\n\t\t\tthis.all = function () {\n\t\t\t\treturn all;\n\t\t\t};\n\t\t}\n\t\tHash.prototype.fetch = function (key) {\n\t\t\t//console.log('fetch', key);\n\t\t\treturn this.all()[key];\n\t\t};\n\t\tHash.prototype.store = function (key, value) {\n\t\t\t//console.log('store', key); //, value);\n\t\t\tthis.all()[key] = value;\n\t\t};\n\t\tHash.prototype.purge = function (key) {\n\t\t\t//console.log('purge', key);\n\t\t\tdelete this.all()[key];\n\t\t};\n\t\n\t\tmodule.exports = Hash;\n\t})();\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t(function () {\n\t\n\t\t'use strict';\n\t\n\t\tmodule.exports = {\n\t\t\tfetch: 'GET',\n\t\t\tstore: 'PUT',\n\t\t\tquery: 'OPTIONS',\n\t\t\tcreate: 'POST',\n\t\t\tremove: 'DELETE'\n\t\t};\n\t})();\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t(function () {\n\t\n\t\t'use strict';\n\t\n\t\tvar Emitter = __webpack_require__(7),\n\t\t    uuid = __webpack_require__(8),\n\t\t    peace = __webpack_require__(9);\n\t\n\t\tfunction Peace(parameters) {\n\t\n\t\t\tvar spark,\n\t\t\t    verbs,\n\t\t\t    self = this;\n\t\n\t\t\tif (!(this instanceof Peace)) return new Peace(parameters);\n\t\n\t\t\t/*\n\t  \tA defensive confirmation that the 'parameters' argument\n\t  \tis an object and not some other type\n\t  */\n\t\t\tparameters = (parameters || false).constructor === Object ? parameters : {};\n\t\t\tspark = peace.spark(parameters.Spark, parameters.server, parameters.spark);\n\t\t\tverbs = peace.merge(peace.merge(peace.verbs), parameters.verbs);\n\t\n\t\t\tspark.on('connection', function (prime) {\n\t\t\t\t//console.log('(primus)connection', prime.id);\n\t\n\t\t\t\tvar id = uuid.v4(),\n\t\t\t\t    verb;\n\t\n\t\t\t\tpeace.state.store(prime.id, id);\n\t\t\t\tpeace.state.store(id, prime.id);\n\t\n\t\t\t\tpeace.sparkList.store(id, prime);\n\t\n\t\t\t\tpeace.attachAllListeners(verbs, spark, self, id);\n\t\n\t\t\t\tself.listen.emitter().emit('BEGIN', { id: id });\n\t\n\t\t\t\tprime.on('subscribe', function (channel, spark) {\n\t\t\t\t\t//console.log('(primus)connection:subscribe', channel.name); //spark);\n\t\n\t\t\t\t\tpeace.channelList.fetch(id).store(channel.name, spark);\n\t\n\t\t\t\t\tpeace.attachAllListeners(verbs, spark, self.channel(channel), id);\n\t\n\t\t\t\t\tself.channel(channel.name).listen.emitter().emit('BEGIN', { id: id });\n\t\t\t\t});\n\t\n\t\t\t\tprime.on('unsubscribe', function (channel, spark) {\n\t\t\t\t\t//console.log('(primus)connection:unsubscribe', channel.name); //, spark);\n\t\n\t\t\t\t\tspark.removeAllListeners();\n\t\n\t\t\t\t\tpeace.channelList.fetch(id).purge(channel.name, spark);\n\t\n\t\t\t\t\tself.channel(channel.name).listen.emitter().emit('CEASE', { id: id });\n\t\t\t\t});\n\t\n\t\t\t\tprime.on('end', function () {\n\t\t\t\t\t//console.log('(primus)end');\n\t\n\t\t\t\t\tprime.removeAllListeners();\n\t\t\t\t});\n\t\t\t});\n\t\n\t\t\tspark.on('disconnection', function (prime) {\n\t\t\t\t//console.log('(primus)disconnection', prime.id);\n\t\n\t\t\t\tvar id = peace.state.fetch(prime.id);\n\t\n\t\t\t\tself.listen.emitter().emit('CEASE', { id: peace.state.fetch(prime.id) });\n\t\n\t\t\t\tprime.removeAllListeners();\n\t\n\t\t\t\tpeace.state.purge(id); //id\n\t\t\t\tpeace.state.purge(prime.id);\n\t\n\t\t\t\tpeace.sparkList.purge(id, prime);\n\t\t\t});\n\t\n\t\t\tthis.channel = (function () {\n\t\t\t\tfunction Peace(channel, parameters) {\n\t\n\t\t\t\t\tvar spark,\n\t\t\t\t\t    verbs,\n\t\t\t\t\t    self = this;\n\t\n\t\t\t\t\tif (!(this instanceof Peace)) return new Peace(channel, parameters);\n\t\n\t\t\t\t\tparameters = (parameters || false).constructor === Object ? parameters : {};\n\t\n\t\t\t\t\tspark = peace.channel(channel).spark(parameters.Spark, parameters.server, parameters.spark);\n\t\t\t\t\tverbs = peace.merge(peace.merge(peace.verbs), parameters.verbs);\n\t\n\t\t\t\t\tthis.channel = function (s) {\n\t\t\t\t\t\treturn typeof s === 'string' ? channel = s : channel;\n\t\t\t\t\t};\n\t\t\t\t\tthis.spark = function (v) {\n\t\t\t\t\t\treturn (v || false) instanceof parameters.Spark ? spark = v : spark;\n\t\t\t\t\t};\n\t\t\t\t\tthis.verbs = function (v) {\n\t\t\t\t\t\treturn (v || false).constructor === Object ? verbs = peace.merge(verbs, v) : verbs;\n\t\t\t\t\t};\n\t\t\t\t\tthis.emitter = function (e) {\n\t\t\t\t\t\tvar c, emitter;\n\t\t\t\t\t\t(c = peace.emitterList.fetch(channel)).store('emitter', (e || false) instanceof Emitter ? emitter = e : emitter = c.fetch('emitter') || new Emitter());\n\t\t\t\t\t\treturn emitter;\n\t\t\t\t\t};\n\t\t\t\t\tthis.report = function (event, parameters) {\n\t\t\t\t\t\t//console.log(event, parameters);\n\t\t\t\t\t\tvar id, message, sparks;\n\t\t\t\t\t\tif ((event || false).constructor === String) {\n\t\t\t\t\t\t\tif ((parameters || false).constructor === Object) {\n\t\t\t\t\t\t\t\tid = parameters.id;\n\t\t\t\t\t\t\t\tmessage = parameters.message;\n\t\t\t\t\t\t\t\tif (sparks = peace.channelList.fetch(id).fetch(channel)) {\n\t\t\t\t\t\t\t\t\tsparks.forEach(function (spark) {\n\t\t\t\t\t\t\t\t\t\tspark.send(event, message);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tthis.listen = (function () {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tbegin: function begin(handler) {\n\t\t\t\t\t\t\t\tvar c, emitter;\n\t\t\t\t\t\t\t\t(c = peace.emitterList.fetch(channel)).store('EMITTER', emitter = c.fetch('EMITTER') || new Emitter());\n\t\t\t\t\t\t\t\treturn emitter.on('BEGIN', handler);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcease: function cease(handler) {\n\t\t\t\t\t\t\t\tvar c, emitter;\n\t\t\t\t\t\t\t\t(c = peace.emitterList.fetch(channel)).store('EMITTER', emitter = c.fetch('EMITTER') || new Emitter());\n\t\t\t\t\t\t\t\treturn emitter.on('BEGIN', handler);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\temitter: function emitter(e) {\n\t\t\t\t\t\t\t\tvar c, emitter;\n\t\t\t\t\t\t\t\t(c = peace.emitterList.fetch(channel)).store('EMITTER', (e || false) instanceof Emitter ? emitter = e : emitter = c.fetch('EMITTER') || new Emitter());\n\t\t\t\t\t\t\t\treturn emitter;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t})();\n\t\t\t\t}\n\t\t\t\tPeace.prototype.fetch = function (handler) {\n\t\t\t\t\tvar emitter = this.emitter(),\n\t\t\t\t\t    verbs = this.verbs();\n\t\t\t\t\treturn emitter.on(verbs.fetch, handler);\n\t\t\t\t};\n\t\t\t\tPeace.prototype.store = function (handler) {\n\t\t\t\t\tvar emitter = this.emitter(),\n\t\t\t\t\t    verbs = this.verbs();\n\t\t\t\t\treturn emitter.on(verbs.store, handler);\n\t\t\t\t};\n\t\t\t\tPeace.prototype.query = function (handler) {\n\t\t\t\t\tvar emitter = this.emitter(),\n\t\t\t\t\t    verbs = this.verbs();\n\t\t\t\t\treturn emitter.on(verbs.query, handler);\n\t\t\t\t};\n\t\t\t\tPeace.prototype.create = function (handler) {\n\t\t\t\t\tvar emitter = this.emitter(),\n\t\t\t\t\t    verbs = this.verbs();\n\t\t\t\t\treturn emitter.on(verbs.create, handler);\n\t\t\t\t};\n\t\t\t\tPeace.prototype.remove = function (handler) {\n\t\t\t\t\tvar emitter = this.emitter(),\n\t\t\t\t\t    verbs = this.verbs();\n\t\t\t\t\treturn emitter.on(verbs.remove, handler);\n\t\t\t\t};\n\t\t\t\treturn function (channel) {\n\t\t\t\t\treturn new Peace(channel, parameters);\n\t\t\t\t};\n\t\t\t})();\n\t\t\tthis.emitter = (function () {\n\t\t\t\tvar emitter = new Emitter();\n\t\t\t\treturn function (e) {\n\t\t\t\t\treturn (e || false) instanceof Emitter ? emitter = e : emitter;\n\t\t\t\t};\n\t\t\t})();\n\t\t\tthis.spark = function (v) {\n\t\t\t\treturn (v || false) instanceof parameters.Spark ? spark = v : spark;\n\t\t\t};\n\t\t\tthis.verbs = function (v) {\n\t\t\t\treturn (v || false).constructor === Object ? verbs = peace.merge(verbs, v) : verbs;\n\t\t\t};\n\t\t\tthis.listen = (function () {\n\t\t\t\tvar _emitter = new Emitter();\n\t\t\t\treturn {\n\t\t\t\t\tbegin: function begin(handler) {\n\t\t\t\t\t\treturn _emitter.on('BEGIN', handler);\n\t\t\t\t\t},\n\t\t\t\t\tcease: function cease(handler) {\n\t\t\t\t\t\treturn _emitter.on('CEASE', handler);\n\t\t\t\t\t},\n\t\t\t\t\temitter: function emitter(e) {\n\t\t\t\t\t\treturn (e || false) instanceof Emitter ? _emitter = e : _emitter;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t})();\n\t\t}\n\t\tPeace.prototype.fetch = function (handler) {\n\t\t\tvar emitter = this.emitter(),\n\t\t\t    verbs = this.verbs();\n\t\t\treturn emitter.on(verbs.fetch, handler);\n\t\t};\n\t\tPeace.prototype.store = function (handler) {\n\t\t\tvar emitter = this.emitter(),\n\t\t\t    verbs = this.verbs();\n\t\t\treturn emitter.on(verbs.store, handler);\n\t\t};\n\t\tPeace.prototype.query = function (handler) {\n\t\t\tvar emitter = this.emitter(),\n\t\t\t    verbs = this.verbs();\n\t\t\treturn emitter.on(verbs.query, handler);\n\t\t};\n\t\tPeace.prototype.create = function (handler) {\n\t\t\tvar emitter = this.emitter(),\n\t\t\t    verbs = this.verbs();\n\t\t\treturn emitter.on(verbs.create, handler);\n\t\t};\n\t\tPeace.prototype.remove = function (handler) {\n\t\t\tvar emitter = this.emitter(),\n\t\t\t    verbs = this.verbs();\n\t\t\treturn emitter.on(verbs.remove, handler);\n\t\t};\n\t\tPeace.prototype.report = function (event, parameters) {\n\t\t\tvar id, message, sparks;\n\t\t\tif ((event || false).constructor === String) {\n\t\t\t\tif ((parameters || false).constructor === Object) {\n\t\t\t\t\tid = parameters.id;\n\t\t\t\t\tmessage = parameters.message;\n\t\t\t\t\tif (sparks = peace.sparkList.fetch(id)) {\n\t\t\t\t\t\tsparks.forEach(function (spark) {\n\t\t\t\t\t\t\tspark.send(event, message);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\tmodule.exports = Peace;\n\t})();\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t//\n\t// We store our EE objects in a plain object whose properties are event names.\n\t// If `Object.create(null)` is not supported we prefix the event names with a\n\t// `~` to make sure that the built-in object properties are not overridden or\n\t// used as an attack vector.\n\t// We also assume that `Object.create(null)` is available when the event name\n\t// is an ES6 Symbol.\n\t//\n\tvar prefix = typeof Object.create !== 'function' ? '~' : false;\n\t\n\t/**\n\t * Representation of a single EventEmitter function.\n\t *\n\t * @param {Function} fn Event handler to be called.\n\t * @param {Mixed} context Context for function execution.\n\t * @param {Boolean} once Only emit once\n\t * @api private\n\t */\n\tfunction EE(fn, context, once) {\n\t  this.fn = fn;\n\t  this.context = context;\n\t  this.once = once || false;\n\t}\n\t\n\t/**\n\t * Minimal EventEmitter interface that is molded against the Node.js\n\t * EventEmitter interface.\n\t *\n\t * @constructor\n\t * @api public\n\t */\n\tfunction EventEmitter() { /* Nothing to set */ }\n\t\n\t/**\n\t * Holds the assigned EventEmitters by name.\n\t *\n\t * @type {Object}\n\t * @private\n\t */\n\tEventEmitter.prototype._events = undefined;\n\t\n\t/**\n\t * Return a list of assigned event listeners.\n\t *\n\t * @param {String} event The events that should be listed.\n\t * @param {Boolean} exists We only need to know if there are listeners.\n\t * @returns {Array|Boolean}\n\t * @api public\n\t */\n\tEventEmitter.prototype.listeners = function listeners(event, exists) {\n\t  var evt = prefix ? prefix + event : event\n\t    , available = this._events && this._events[evt];\n\t\n\t  if (exists) return !!available;\n\t  if (!available) return [];\n\t  if (available.fn) return [available.fn];\n\t\n\t  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n\t    ee[i] = available[i].fn;\n\t  }\n\t\n\t  return ee;\n\t};\n\t\n\t/**\n\t * Emit an event to all registered event listeners.\n\t *\n\t * @param {String} event The name of the event.\n\t * @returns {Boolean} Indication if we've emitted an event.\n\t * @api public\n\t */\n\tEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n\t  var evt = prefix ? prefix + event : event;\n\t\n\t  if (!this._events || !this._events[evt]) return false;\n\t\n\t  var listeners = this._events[evt]\n\t    , len = arguments.length\n\t    , args\n\t    , i;\n\t\n\t  if ('function' === typeof listeners.fn) {\n\t    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\t\n\t    switch (len) {\n\t      case 1: return listeners.fn.call(listeners.context), true;\n\t      case 2: return listeners.fn.call(listeners.context, a1), true;\n\t      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n\t      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n\t      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n\t      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n\t    }\n\t\n\t    for (i = 1, args = new Array(len -1); i < len; i++) {\n\t      args[i - 1] = arguments[i];\n\t    }\n\t\n\t    listeners.fn.apply(listeners.context, args);\n\t  } else {\n\t    var length = listeners.length\n\t      , j;\n\t\n\t    for (i = 0; i < length; i++) {\n\t      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\t\n\t      switch (len) {\n\t        case 1: listeners[i].fn.call(listeners[i].context); break;\n\t        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n\t        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n\t        default:\n\t          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n\t            args[j - 1] = arguments[j];\n\t          }\n\t\n\t          listeners[i].fn.apply(listeners[i].context, args);\n\t      }\n\t    }\n\t  }\n\t\n\t  return true;\n\t};\n\t\n\t/**\n\t * Register a new EventListener for the given event.\n\t *\n\t * @param {String} event Name of the event.\n\t * @param {Functon} fn Callback function.\n\t * @param {Mixed} context The context of the function.\n\t * @api public\n\t */\n\tEventEmitter.prototype.on = function on(event, fn, context) {\n\t  var listener = new EE(fn, context || this)\n\t    , evt = prefix ? prefix + event : event;\n\t\n\t  if (!this._events) this._events = prefix ? {} : Object.create(null);\n\t  if (!this._events[evt]) this._events[evt] = listener;\n\t  else {\n\t    if (!this._events[evt].fn) this._events[evt].push(listener);\n\t    else this._events[evt] = [\n\t      this._events[evt], listener\n\t    ];\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\t/**\n\t * Add an EventListener that's only called once.\n\t *\n\t * @param {String} event Name of the event.\n\t * @param {Function} fn Callback function.\n\t * @param {Mixed} context The context of the function.\n\t * @api public\n\t */\n\tEventEmitter.prototype.once = function once(event, fn, context) {\n\t  var listener = new EE(fn, context || this, true)\n\t    , evt = prefix ? prefix + event : event;\n\t\n\t  if (!this._events) this._events = prefix ? {} : Object.create(null);\n\t  if (!this._events[evt]) this._events[evt] = listener;\n\t  else {\n\t    if (!this._events[evt].fn) this._events[evt].push(listener);\n\t    else this._events[evt] = [\n\t      this._events[evt], listener\n\t    ];\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\t/**\n\t * Remove event listeners.\n\t *\n\t * @param {String} event The event we want to remove.\n\t * @param {Function} fn The listener that we need to find.\n\t * @param {Mixed} context Only remove listeners matching this context.\n\t * @param {Boolean} once Only remove once listeners.\n\t * @api public\n\t */\n\tEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n\t  var evt = prefix ? prefix + event : event;\n\t\n\t  if (!this._events || !this._events[evt]) return this;\n\t\n\t  var listeners = this._events[evt]\n\t    , events = [];\n\t\n\t  if (fn) {\n\t    if (listeners.fn) {\n\t      if (\n\t           listeners.fn !== fn\n\t        || (once && !listeners.once)\n\t        || (context && listeners.context !== context)\n\t      ) {\n\t        events.push(listeners);\n\t      }\n\t    } else {\n\t      for (var i = 0, length = listeners.length; i < length; i++) {\n\t        if (\n\t             listeners[i].fn !== fn\n\t          || (once && !listeners[i].once)\n\t          || (context && listeners[i].context !== context)\n\t        ) {\n\t          events.push(listeners[i]);\n\t        }\n\t      }\n\t    }\n\t  }\n\t\n\t  //\n\t  // Reset the array, or remove it completely if we have no more listeners.\n\t  //\n\t  if (events.length) {\n\t    this._events[evt] = events.length === 1 ? events[0] : events;\n\t  } else {\n\t    delete this._events[evt];\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\t/**\n\t * Remove all listeners or only the listeners for the specified event.\n\t *\n\t * @param {String} event The event want to remove all listeners for.\n\t * @api public\n\t */\n\tEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n\t  if (!this._events) return this;\n\t\n\t  if (event) delete this._events[prefix ? prefix + event : event];\n\t  else this._events = prefix ? {} : Object.create(null);\n\t\n\t  return this;\n\t};\n\t\n\t//\n\t// Alias methods names because people roll like that.\n\t//\n\tEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\tEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\t\n\t//\n\t// This function doesn't apply anymore.\n\t//\n\tEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n\t  return this;\n\t};\n\t\n\t//\n\t// Expose the prefix.\n\t//\n\tEventEmitter.prefixed = prefix;\n\t\n\t//\n\t// Expose the module.\n\t//\n\tif (true) {\n\t  module.exports = EventEmitter;\n\t}\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t//     uuid.js\n\t//\n\t//     Copyright (c) 2010-2012 Robert Kieffer\n\t//     MIT License - http://opensource.org/licenses/mit-license.php\n\t\n\t(function() {\n\t  var _global = this;\n\t\n\t  // Unique ID creation requires a high quality random # generator.  We feature\n\t  // detect to determine the best RNG source, normalizing to a function that\n\t  // returns 128-bits of randomness, since that's what's usually required\n\t  var _rng;\n\t\n\t  // Node.js crypto-based RNG - http://nodejs.org/docs/v0.6.2/api/crypto.html\n\t  //\n\t  // Moderately fast, high quality\n\t  if (typeof(_global.require) == 'function') {\n\t    try {\n\t      var _rb = _global.require('crypto').randomBytes;\n\t      _rng = _rb && function() {return _rb(16);};\n\t    } catch(e) {}\n\t  }\n\t\n\t  if (!_rng && _global.crypto && crypto.getRandomValues) {\n\t    // WHATWG crypto-based RNG - http://wiki.whatwg.org/wiki/Crypto\n\t    //\n\t    // Moderately fast, high quality\n\t    var _rnds8 = new Uint8Array(16);\n\t    _rng = function whatwgRNG() {\n\t      crypto.getRandomValues(_rnds8);\n\t      return _rnds8;\n\t    };\n\t  }\n\t\n\t  if (!_rng) {\n\t    // Math.random()-based (RNG)\n\t    //\n\t    // If all else fails, use Math.random().  It's fast, but is of unspecified\n\t    // quality.\n\t    var  _rnds = new Array(16);\n\t    _rng = function() {\n\t      for (var i = 0, r; i < 16; i++) {\n\t        if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n\t        _rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n\t      }\n\t\n\t      return _rnds;\n\t    };\n\t  }\n\t\n\t  // Buffer class to use\n\t  var BufferClass = typeof(_global.Buffer) == 'function' ? _global.Buffer : Array;\n\t\n\t  // Maps for number <-> hex string conversion\n\t  var _byteToHex = [];\n\t  var _hexToByte = {};\n\t  for (var i = 0; i < 256; i++) {\n\t    _byteToHex[i] = (i + 0x100).toString(16).substr(1);\n\t    _hexToByte[_byteToHex[i]] = i;\n\t  }\n\t\n\t  // **`parse()` - Parse a UUID into it's component bytes**\n\t  function parse(s, buf, offset) {\n\t    var i = (buf && offset) || 0, ii = 0;\n\t\n\t    buf = buf || [];\n\t    s.toLowerCase().replace(/[0-9a-f]{2}/g, function(oct) {\n\t      if (ii < 16) { // Don't overflow!\n\t        buf[i + ii++] = _hexToByte[oct];\n\t      }\n\t    });\n\t\n\t    // Zero out remaining bytes if string was short\n\t    while (ii < 16) {\n\t      buf[i + ii++] = 0;\n\t    }\n\t\n\t    return buf;\n\t  }\n\t\n\t  // **`unparse()` - Convert UUID byte array (ala parse()) into a string**\n\t  function unparse(buf, offset) {\n\t    var i = offset || 0, bth = _byteToHex;\n\t    return  bth[buf[i++]] + bth[buf[i++]] +\n\t            bth[buf[i++]] + bth[buf[i++]] + '-' +\n\t            bth[buf[i++]] + bth[buf[i++]] + '-' +\n\t            bth[buf[i++]] + bth[buf[i++]] + '-' +\n\t            bth[buf[i++]] + bth[buf[i++]] + '-' +\n\t            bth[buf[i++]] + bth[buf[i++]] +\n\t            bth[buf[i++]] + bth[buf[i++]] +\n\t            bth[buf[i++]] + bth[buf[i++]];\n\t  }\n\t\n\t  // **`v1()` - Generate time-based UUID**\n\t  //\n\t  // Inspired by https://github.com/LiosK/UUID.js\n\t  // and http://docs.python.org/library/uuid.html\n\t\n\t  // random #'s we need to init node and clockseq\n\t  var _seedBytes = _rng();\n\t\n\t  // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n\t  var _nodeId = [\n\t    _seedBytes[0] | 0x01,\n\t    _seedBytes[1], _seedBytes[2], _seedBytes[3], _seedBytes[4], _seedBytes[5]\n\t  ];\n\t\n\t  // Per 4.2.2, randomize (14 bit) clockseq\n\t  var _clockseq = (_seedBytes[6] << 8 | _seedBytes[7]) & 0x3fff;\n\t\n\t  // Previous uuid creation time\n\t  var _lastMSecs = 0, _lastNSecs = 0;\n\t\n\t  // See https://github.com/broofa/node-uuid for API details\n\t  function v1(options, buf, offset) {\n\t    var i = buf && offset || 0;\n\t    var b = buf || [];\n\t\n\t    options = options || {};\n\t\n\t    var clockseq = options.clockseq != null ? options.clockseq : _clockseq;\n\t\n\t    // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n\t    // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n\t    // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n\t    // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\t    var msecs = options.msecs != null ? options.msecs : new Date().getTime();\n\t\n\t    // Per 4.2.1.2, use count of uuid's generated during the current clock\n\t    // cycle to simulate higher resolution clock\n\t    var nsecs = options.nsecs != null ? options.nsecs : _lastNSecs + 1;\n\t\n\t    // Time since last uuid creation (in msecs)\n\t    var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\t\n\t    // Per 4.2.1.2, Bump clockseq on clock regression\n\t    if (dt < 0 && options.clockseq == null) {\n\t      clockseq = clockseq + 1 & 0x3fff;\n\t    }\n\t\n\t    // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n\t    // time interval\n\t    if ((dt < 0 || msecs > _lastMSecs) && options.nsecs == null) {\n\t      nsecs = 0;\n\t    }\n\t\n\t    // Per 4.2.1.2 Throw error if too many uuids are requested\n\t    if (nsecs >= 10000) {\n\t      throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n\t    }\n\t\n\t    _lastMSecs = msecs;\n\t    _lastNSecs = nsecs;\n\t    _clockseq = clockseq;\n\t\n\t    // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\t    msecs += 12219292800000;\n\t\n\t    // `time_low`\n\t    var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n\t    b[i++] = tl >>> 24 & 0xff;\n\t    b[i++] = tl >>> 16 & 0xff;\n\t    b[i++] = tl >>> 8 & 0xff;\n\t    b[i++] = tl & 0xff;\n\t\n\t    // `time_mid`\n\t    var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n\t    b[i++] = tmh >>> 8 & 0xff;\n\t    b[i++] = tmh & 0xff;\n\t\n\t    // `time_high_and_version`\n\t    b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\t    b[i++] = tmh >>> 16 & 0xff;\n\t\n\t    // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\t    b[i++] = clockseq >>> 8 | 0x80;\n\t\n\t    // `clock_seq_low`\n\t    b[i++] = clockseq & 0xff;\n\t\n\t    // `node`\n\t    var node = options.node || _nodeId;\n\t    for (var n = 0; n < 6; n++) {\n\t      b[i + n] = node[n];\n\t    }\n\t\n\t    return buf ? buf : unparse(b);\n\t  }\n\t\n\t  // **`v4()` - Generate random UUID**\n\t\n\t  // See https://github.com/broofa/node-uuid for API details\n\t  function v4(options, buf, offset) {\n\t    // Deprecated - 'format' argument, as supported in v1.2\n\t    var i = buf && offset || 0;\n\t\n\t    if (typeof(options) == 'string') {\n\t      buf = options == 'binary' ? new BufferClass(16) : null;\n\t      options = null;\n\t    }\n\t    options = options || {};\n\t\n\t    var rnds = options.random || (options.rng || _rng)();\n\t\n\t    // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\t    rnds[6] = (rnds[6] & 0x0f) | 0x40;\n\t    rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\t\n\t    // Copy bytes to buffer, if provided\n\t    if (buf) {\n\t      for (var ii = 0; ii < 16; ii++) {\n\t        buf[i + ii] = rnds[ii];\n\t      }\n\t    }\n\t\n\t    return buf || unparse(rnds);\n\t  }\n\t\n\t  // Export public API\n\t  var uuid = v4;\n\t  uuid.v1 = v1;\n\t  uuid.v4 = v4;\n\t  uuid.parse = parse;\n\t  uuid.unparse = unparse;\n\t  uuid.BufferClass = BufferClass;\n\t\n\t  if (true) {// && module.exports) {\n\t    // Publish as node.js module\n\t    module.exports = uuid;\n\t  } else  if (typeof define === 'function' && define.amd) {\n\t    // Publish as AMD module\n\t    define(function() {return uuid;});\n\t\n\t\n\t  } else {\n\t    // Publish as global (in browsers)\n\t    var _previousRoot = _global.uuid;\n\t\n\t    // **`noConflict()` - (browser only) to reset global 'uuid' var**\n\t    uuid.noConflict = function() {\n\t      _global.uuid = _previousRoot;\n\t      return uuid;\n\t    };\n\t\n\t    _global.uuid = uuid;\n\t  }\n\t}).call(this);\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t(function () {\n\t\n\t\t'use strict';\n\t\n\t\tvar List = __webpack_require__(3),\n\t\t    Hash = __webpack_require__(4),\n\t\t    peace = {\n\t\t\tstate: new Hash(),\n\t\t\tverbs: __webpack_require__(5),\n\t\t\tchannel: function channel(_channel) {\n\t\t\t\treturn {\n\t\t\t\t\tspark: function spark(Spark, server, _spark2) {\n\t\t\t\t\t\t//console.log('peace.channel().spark()'); //, Spark, server, spark);\n\t\t\t\t\t\tvar state;\n\t\t\t\t\t\tif (state = peace.state.fetch(_channel)) return state;\n\t\t\t\t\t\tpeace.state.store(_channel, state = peace.spark(Spark, server, _spark2).channel(_channel));\n\t\t\t\t\t\treturn state;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t},\n\t\t\tspark: function spark(Spark, server, _spark) {\n\t\t\t\t//console.log('peace.spark()'); //, Spark, server, spark);\n\t\t\t\tvar state;\n\t\t\t\tif (state = peace.state.fetch('spark')) return state;\n\t\t\t\tSpark = (Spark || false).constructor === Function ? Spark : function () {};\n\t\t\t\t_spark = (_spark || false).constructor === Object ? _spark : {};\n\t\t\t\tpeace.state.store('spark', state = new Spark(server, _spark));\n\t\t\t\treturn state;\n\t\t\t},\n\t\t\tmerge: (function () {\n\t\t\t\tvar has = Object.prototype.hasOwnProperty;\n\t\t\t\treturn function merge(alpha, omega) {\n\t\t\t\t\tvar key,\n\t\t\t\t\t    verbs = {};\n\t\t\t\t\t/*\n\t    \tDefensive because omega can\n\t    \tbe passed in by a consumer. We may\n\t    \tas well examine alpha the same way\n\t    */\n\t\t\t\t\talpha = (alpha || false).constructor === Object ? alpha : {};\n\t\t\t\t\tomega = (omega || false).constructor === Object ? omega : {};\n\t\t\t\t\tfor (key in alpha) {\n\t\t\t\t\t\tif (has.call(alpha, key) === true) {\n\t\t\t\t\t\t\tverbs[key] = has.call(omega, key) === true ? omega[key] : alpha[key];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn verbs;\n\t\t\t\t};\n\t\t\t})(),\n\t\t\tsparkList: new List(),\n\t\t\tchannelList: (function () {\n\t\t\t\tvar cache = new Hash();\n\t\t\t\treturn {\n\t\t\t\t\tstore: function store(key) {\n\t\t\t\t\t\tvar state;\n\t\t\t\t\t\tcache.store(key, state = new List());\n\t\t\t\t\t\treturn state;\n\t\t\t\t\t},\n\t\t\t\t\tfetch: function fetch(key) {\n\t\t\t\t\t\tvar state;\n\t\t\t\t\t\tif (!(state = cache.fetch(key))) cache.store(key, state = new List());\n\t\t\t\t\t\treturn state;\n\t\t\t\t\t},\n\t\t\t\t\tpurge: function purge(key) {\n\t\t\t\t\t\tvar state;\n\t\t\t\t\t\tif (state = cache.fetch(key)) cache.purge(key);\n\t\t\t\t\t\treturn state;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t})(),\n\t\t\temitterList: (function () {\n\t\t\t\tvar cache = new Hash();\n\t\t\t\treturn {\n\t\t\t\t\tstore: function store(key) {\n\t\t\t\t\t\tvar state;\n\t\t\t\t\t\tcache.store(key, state = new Hash());\n\t\t\t\t\t\treturn state;\n\t\t\t\t\t},\n\t\t\t\t\tfetch: function fetch(key) {\n\t\t\t\t\t\tvar state;\n\t\t\t\t\t\tif (!(state = cache.fetch(key))) cache.store(key, state = new Hash());\n\t\t\t\t\t\treturn state;\n\t\t\t\t\t},\n\t\t\t\t\tpurge: function purge(key) {\n\t\t\t\t\t\tvar state;\n\t\t\t\t\t\tif (state = cache.fetch(key)) cache.purge(key);\n\t\t\t\t\t\treturn state;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t})(),\n\t\t\tattachAllListeners: function attachAllListeners(verbs, spark, peace, id) {\n\t\t\t\tvar verb;\n\t\t\t\tfor (verb in verbs) {\n\t\t\t\t\tif (verbs.hasOwnProperty(verb)) {\n\t\t\t\t\t\tthis.attachListener(verbs[verb], spark, peace, id);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tattachListener: function attachListener(verb, spark, peace, id) {\n\t\t\t\tif ((verb || false).constructor === String) {\n\t\t\t\t\tspark.on(verb, this.listenerFactory(verb, peace, id));\n\t\t\t\t}\n\t\t\t},\n\t\t\tlistenerFactory: function listenerFactory(verb, peace, id) {\n\t\t\t\treturn function (message, callback) {\n\t\t\t\t\tconsole.log('(primus)', verb);\n\t\t\t\t\tpeace.emitter().emit(verb, { id: id, message: message }, callback);\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\t\n\t\tmodule.exports = peace;\n\t})();\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** server.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/Users/jonathanperry/Documents/GitHub/Instance/public/assets/js\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 4ec0d6d6ca537d00c39b\n **/","(function () {\n\n\t'use strict';\n\n\tfunction List() {\n\t\tvar all = {};\n\t\tthis.has = function (key) {\n\t\t\treturn (all[key] || []).length > 0;\n\t\t};\n\t\tthis.all = function () {\n\t\t\treturn all;\n\t\t};\n\t}\n\tList.prototype.fetch = function (key) { //console.log('fetch', key);\n\t\treturn this.all()[key];\n\t};\n\tList.prototype.store = function (key, value) { //console.log('store', key); //, value);\n\t\t(this.all()[key] || (this.all()[key] = []))\n\t\t\t.push(value);\n\t};\n\tList.prototype.purge = function (key, value) { //console.log('purge', key); //, value);\n\t\tvar list, n;\n\t\tif (list = this.all()[key]) {\n\t\t\tn = 0;\n\t\t\twhile (n < list.length) {\n\t\t\t\tif (list[n] === value) { //console.log(n);\n\t\t\t\t\tlist.splice(n, 1);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tn = n + 1;\n\t\t\t}\n\t\t\tif (this.has(key)) return true;\n\t\t\tdelete this.all()[key];\n\t\t}\n\t\treturn true;\n\t};\n\n\tmodule.exports = List;\n\n}());\n\n\n/** WEBPACK FOOTER **\n ** ./list.js\n **/","(function () {\n\n\t'use strict';\n\n\tfunction Hash() {\n\t\tvar all = {};\n\t\tthis.has = function (key) {\n\t\t\tfor (key in all) return true;\n\t\t\treturn false;\n\t\t};\n\t\tthis.all = function () {\n\t\t\treturn all;\n\t\t};\n\t}\n\tHash.prototype.fetch = function (key) { //console.log('fetch', key);\n\t\treturn this.all()[key];\n\t};\n\tHash.prototype.store = function (key, value) { //console.log('store', key); //, value);\n\t\tthis.all()[key] = value;\n\t};\n\tHash.prototype.purge = function (key) { //console.log('purge', key);\n\t\tdelete this.all()[key];\n\t};\n\n\tmodule.exports = Hash;\n\n}());\n\n\n/** WEBPACK FOOTER **\n ** ./hash.js\n **/","(function () {\n\n\t'use strict';\n\n\tmodule.exports = {\n\t\tfetch: 'GET',\n\t\tstore: 'PUT',\n\t\tquery: 'OPTIONS',\n\t\tcreate: 'POST',\n\t\tremove: 'DELETE'\n\t};\n\n}());\n\n\n/** WEBPACK FOOTER **\n ** ./verbs.js\n **/","(function () {\n\n\t'use strict'\n\n\tvar Emitter = require('eventemitter3'),\n\t\tuuid = require('node-uuid'),\n\t\tpeace = require('./utilities');\n\n\tfunction Peace(parameters) {\n\n\t\tvar spark,\n\t\t\tverbs,\n\t\t\tself = this;\n\n\t\tif (!(this instanceof Peace)) return new Peace(parameters);\n\n\t\t/*\n\t\t\tA defensive confirmation that the 'parameters' argument\n\t\t\tis an object and not some other type\n\t\t*/\n\t\tparameters = (parameters || false).constructor === Object ? parameters : {};\n\t\tspark = peace.spark(parameters.Spark, parameters.server, parameters.spark);\n\t\tverbs = peace.merge(peace.merge(peace.verbs), parameters.verbs);\n\n\t\tspark.on('connection', function (prime) { //console.log('(primus)connection', prime.id);\n\n\t\t\tvar id = uuid.v4(),\n\t\t\t\tverb;\n\n\t\t\tpeace.state.store(prime.id, id);\n\t\t\tpeace.state.store(id, prime.id);\n\n\t\t\tpeace.sparkList.store(id, prime);\n\n\t\t\tpeace.attachAllListeners(verbs, spark, self, id);\n\n\t\t\tself.listen.emitter().emit('BEGIN', { id: id });\n\n\t\t\tprime.on('subscribe', function (channel, spark) { //console.log('(primus)connection:subscribe', channel.name); //spark);\n\n\t\t\t\tpeace.channelList.fetch(id).store(channel.name, spark);\n\n\t\t\t\tpeace.attachAllListeners(verbs, spark, self.channel(channel), id);\n\n\t\t\t\tself.channel(channel.name).listen.emitter().emit('BEGIN', { id: id });\n\n\t\t\t});\n\n\t\t\tprime.on('unsubscribe', function (channel, spark) { //console.log('(primus)connection:unsubscribe', channel.name); //, spark);\n\n\t\t\t\tspark.removeAllListeners();\n\n\t\t\t\tpeace.channelList.fetch(id).purge(channel.name, spark);\n\n\t\t\t\tself.channel(channel.name).listen.emitter().emit('CEASE', { id: id });\n\n\t\t\t});\n\n\t\t\tprime.on('end', function () { //console.log('(primus)end');\n\n\t\t\t\tprime.removeAllListeners();\n\n\t\t\t});\n\n\t\t});\n\n\t\tspark.on('disconnection', function (prime) { //console.log('(primus)disconnection', prime.id);\n\n\t\t\tvar id = peace.state.fetch(prime.id);\n\n\t\t\tself.listen.emitter().emit('CEASE', { id: peace.state.fetch(prime.id) });\n\n\t\t\tprime.removeAllListeners();\n\n\t\t\tpeace.state.purge(id); //id\n\t\t\tpeace.state.purge(prime.id);\n\n\t\t\tpeace.sparkList.purge(id, prime);\n\n\t\t});\n\n\t\tthis.channel = (function () {\n\t\t\tfunction Peace(channel, parameters) {\n\n\t\t\t\tvar spark,\n\t\t\t\t\tverbs,\n\t\t\t\t\tself = this;\n\n\t\t\t\tif (!(this instanceof Peace)) return new Peace(channel, parameters);\n\n\t\t\t\tparameters = (parameters || false).constructor === Object ? parameters : {};\n\n\t\t\t\tspark = peace.channel(channel).spark(parameters.Spark, parameters.server, parameters.spark);\n\t\t\t\tverbs = peace.merge(peace.merge(peace.verbs), parameters.verbs);\n\n\t\t\t\tthis.channel = function (s) {\n\t\t\t\t\treturn (typeof s === 'string') ? (channel = s) : channel;\n\t\t\t\t};\n\t\t\t\tthis.spark = function (v) {\n\t\t\t\t\treturn ((v || false) instanceof parameters.Spark) ? (spark = v) : spark;\n\t\t\t\t};\n\t\t\t\tthis.verbs = function (v) {\n\t\t\t\t\treturn ((v || false).constructor === Object) ? (verbs = peace.merge(verbs, v)) : verbs;\n\t\t\t\t};\n\t\t\t\tthis.emitter = function (e) {\n\t\t\t\t\tvar c, emitter;\n\t\t\t\t\t(c = peace.emitterList.fetch(channel)).store('emitter',\n\t\t\t\t\t\t((e || false) instanceof Emitter) ?\n\t\t\t\t\t\t\t(emitter = e) :\n\t\t\t\t\t\t\t(emitter = (c.fetch('emitter') || new Emitter())));\n\t\t\t\t\treturn emitter;\n\t\t\t\t};\n\t\t\t\tthis.report = function (event, parameters) { //console.log(event, parameters);\n\t\t\t\t\tvar id,\n\t\t\t\t\t\tmessage,\n\t\t\t\t\t\tsparks;\n\t\t\t\t\tif ((event || false).constructor === String) {\n\t\t\t\t\t\tif ((parameters || false).constructor === Object) {\n\t\t\t\t\t\t\tid = parameters.id;\n\t\t\t\t\t\t\tmessage = parameters.message;\n\t\t\t\t\t\t\tif (sparks = peace.channelList.fetch(id).fetch(channel)) {\n\t\t\t\t\t\t\t\tsparks.forEach(function (spark) {\n\t\t\t\t\t\t\t\t\tspark.send(event, message);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.listen = (function () {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tbegin: function (handler) {\n\t\t\t\t\t\t\tvar c, emitter;\n\t\t\t\t\t\t\t(c = peace.emitterList.fetch(channel)).store('EMITTER',\n\t\t\t\t\t\t\t\t(emitter = (c.fetch('EMITTER') || new Emitter())));\n\t\t\t\t\t\t\treturn emitter\n\t\t\t\t\t\t\t\t.on('BEGIN', handler);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcease: function (handler) {\n\t\t\t\t\t\t\tvar c, emitter;\n\t\t\t\t\t\t\t(c = peace.emitterList.fetch(channel)).store('EMITTER',\n\t\t\t\t\t\t\t\t(emitter = (c.fetch('EMITTER') || new Emitter())));\n\t\t\t\t\t\t\treturn emitter\n\t\t\t\t\t\t\t\t.on('BEGIN', handler);\n\t\t\t\t\t\t},\n\t\t\t\t\t\temitter: function (e) {\n\t\t\t\t\t\t\tvar c, emitter;\n\t\t\t\t\t\t\t(c = peace.emitterList.fetch(channel)).store('EMITTER',\n\t\t\t\t\t\t\t\t((e || false) instanceof Emitter) ?\n\t\t\t\t\t\t\t\t\t(emitter = e) :\n\t\t\t\t\t\t\t\t\t(emitter = (c.fetch('EMITTER') || new Emitter())));\n\t\t\t\t\t\t\treturn emitter;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}());\n\n\t\t\t}\n\t\t\tPeace.prototype.fetch = function (handler) {\n\t\t\t\tvar emitter = this.emitter(),\n\t\t\t\t\tverbs = this.verbs();\n\t\t\t\treturn emitter.on(verbs.fetch, handler);\n\t\t\t};\n\t\t\tPeace.prototype.store = function (handler) {\n\t\t\t\tvar emitter = this.emitter(),\n\t\t\t\t\tverbs = this.verbs();\n\t\t\t\treturn emitter.on(verbs.store, handler);\n\t\t\t};\n\t\t\tPeace.prototype.query = function (handler) {\n\t\t\t\tvar emitter = this.emitter(),\n\t\t\t\t\tverbs = this.verbs();\n\t\t\t\treturn emitter.on(verbs.query, handler);\n\t\t\t};\n\t\t\tPeace.prototype.create = function (handler) {\n\t\t\t\tvar emitter = this.emitter(),\n\t\t\t\t\tverbs = this.verbs();\n\t\t\t\treturn emitter.on(verbs.create, handler);\n\t\t\t};\n\t\t\tPeace.prototype.remove = function (handler) {\n\t\t\t\tvar emitter = this.emitter(),\n\t\t\t\t\tverbs = this.verbs();\n\t\t\t\treturn emitter.on(verbs.remove, handler);\n\t\t\t};\n\t\t\treturn function (channel) {\n\t\t\t\treturn new Peace(channel, parameters);\n\t\t\t}\n\t\t}());\n\t\tthis.emitter = (function () {\n\t\t\tvar emitter = new Emitter();\n\t\t\treturn function (e) {\n\t\t\t\treturn ((e || false) instanceof Emitter) ? (emitter = e) : emitter;\n\t\t\t};\n\t\t}());\n\t\tthis.spark = function (v) {\n\t\t\treturn ((v || false) instanceof parameters.Spark) ? (spark = v) : spark;\n\t\t};\n\t\tthis.verbs = function (v) {\n\t\t\treturn ((v || false).constructor === Object) ? (verbs = peace.merge(verbs, v)) : verbs;\n\t\t};\n\t\tthis.listen = (function () {\n\t\t\tvar emitter = new Emitter();\n\t\t\treturn {\n\t\t\t\tbegin: function (handler) {\n\t\t\t\t\treturn emitter\n\t\t\t\t\t\t.on('BEGIN', handler);\n\t\t\t\t},\n\t\t\t\tcease: function (handler) {\n\t\t\t\t\treturn emitter\n\t\t\t\t\t\t.on('CEASE', handler);\n\t\t\t\t},\n\t\t\t\temitter: function (e) {\n\t\t\t\t\treturn ((e || false) instanceof Emitter) ? (emitter = e) : emitter;\n\t\t\t\t}\n\t\t\t}\n\t\t}());\n\n\t}\n\tPeace.prototype.fetch = function (handler) {\n\t\tvar emitter = this.emitter(),\n\t\t\tverbs = this.verbs();\n\t\treturn emitter.on(verbs.fetch, handler);\n\t};\n\tPeace.prototype.store = function (handler) {\n\t\tvar emitter = this.emitter(),\n\t\t\tverbs = this.verbs();\n\t\treturn emitter.on(verbs.store, handler);\n\t};\n\tPeace.prototype.query = function (handler) {\n\t\tvar emitter = this.emitter(),\n\t\t\tverbs = this.verbs();\n\t\treturn emitter.on(verbs.query, handler);\n\t};\n\tPeace.prototype.create = function (handler) {\n\t\tvar emitter = this.emitter(),\n\t\t\tverbs = this.verbs();\n\t\treturn emitter.on(verbs.create, handler);\n\t};\n\tPeace.prototype.remove = function (handler) {\n\t\tvar emitter = this.emitter(),\n\t\t\tverbs = this.verbs();\n\t\treturn emitter.on(verbs.remove, handler);\n\t};\n\tPeace.prototype.report = function (event, parameters) {\n\t\tvar id,\n\t\t\tmessage,\n\t\t\tsparks;\n\t\tif ((event || false).constructor === String) {\n\t\t\tif ((parameters || false).constructor === Object) {\n\t\t\t\tid = parameters.id;\n\t\t\t\tmessage = parameters.message;\n\t\t\t\tif (sparks = peace.sparkList.fetch(id)) {\n\t\t\t\t\tsparks.forEach(function (spark) {\n\t\t\t\t\t\tspark.send(event, message);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tmodule.exports = Peace;\n\n}());\n\n\n/** WEBPACK FOOTER **\n ** ./server/peace.io.rest.js\n **/","'use strict';\n\n//\n// We store our EE objects in a plain object whose properties are event names.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// `~` to make sure that the built-in object properties are not overridden or\n// used as an attack vector.\n// We also assume that `Object.create(null)` is available when the event name\n// is an ES6 Symbol.\n//\nvar prefix = typeof Object.create !== 'function' ? '~' : false;\n\n/**\n * Representation of a single EventEmitter function.\n *\n * @param {Function} fn Event handler to be called.\n * @param {Mixed} context Context for function execution.\n * @param {Boolean} once Only emit once\n * @api private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Minimal EventEmitter interface that is molded against the Node.js\n * EventEmitter interface.\n *\n * @constructor\n * @api public\n */\nfunction EventEmitter() { /* Nothing to set */ }\n\n/**\n * Holds the assigned EventEmitters by name.\n *\n * @type {Object}\n * @private\n */\nEventEmitter.prototype._events = undefined;\n\n/**\n * Return a list of assigned event listeners.\n *\n * @param {String} event The events that should be listed.\n * @param {Boolean} exists We only need to know if there are listeners.\n * @returns {Array|Boolean}\n * @api public\n */\nEventEmitter.prototype.listeners = function listeners(event, exists) {\n  var evt = prefix ? prefix + event : event\n    , available = this._events && this._events[evt];\n\n  if (exists) return !!available;\n  if (!available) return [];\n  if (available.fn) return [available.fn];\n\n  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n    ee[i] = available[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Emit an event to all registered event listeners.\n *\n * @param {String} event The name of the event.\n * @returns {Boolean} Indication if we've emitted an event.\n * @api public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events || !this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if ('function' === typeof listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Register a new EventListener for the given event.\n *\n * @param {String} event Name of the event.\n * @param {Functon} fn Callback function.\n * @param {Mixed} context The context of the function.\n * @api public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  var listener = new EE(fn, context || this)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events) this._events = prefix ? {} : Object.create(null);\n  if (!this._events[evt]) this._events[evt] = listener;\n  else {\n    if (!this._events[evt].fn) this._events[evt].push(listener);\n    else this._events[evt] = [\n      this._events[evt], listener\n    ];\n  }\n\n  return this;\n};\n\n/**\n * Add an EventListener that's only called once.\n *\n * @param {String} event Name of the event.\n * @param {Function} fn Callback function.\n * @param {Mixed} context The context of the function.\n * @api public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  var listener = new EE(fn, context || this, true)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events) this._events = prefix ? {} : Object.create(null);\n  if (!this._events[evt]) this._events[evt] = listener;\n  else {\n    if (!this._events[evt].fn) this._events[evt].push(listener);\n    else this._events[evt] = [\n      this._events[evt], listener\n    ];\n  }\n\n  return this;\n};\n\n/**\n * Remove event listeners.\n *\n * @param {String} event The event we want to remove.\n * @param {Function} fn The listener that we need to find.\n * @param {Mixed} context Only remove listeners matching this context.\n * @param {Boolean} once Only remove once listeners.\n * @api public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events || !this._events[evt]) return this;\n\n  var listeners = this._events[evt]\n    , events = [];\n\n  if (fn) {\n    if (listeners.fn) {\n      if (\n           listeners.fn !== fn\n        || (once && !listeners.once)\n        || (context && listeners.context !== context)\n      ) {\n        events.push(listeners);\n      }\n    } else {\n      for (var i = 0, length = listeners.length; i < length; i++) {\n        if (\n             listeners[i].fn !== fn\n          || (once && !listeners[i].once)\n          || (context && listeners[i].context !== context)\n        ) {\n          events.push(listeners[i]);\n        }\n      }\n    }\n  }\n\n  //\n  // Reset the array, or remove it completely if we have no more listeners.\n  //\n  if (events.length) {\n    this._events[evt] = events.length === 1 ? events[0] : events;\n  } else {\n    delete this._events[evt];\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners or only the listeners for the specified event.\n *\n * @param {String} event The event want to remove all listeners for.\n * @api public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  if (!this._events) return this;\n\n  if (event) delete this._events[prefix ? prefix + event : event];\n  else this._events = prefix ? {} : Object.create(null);\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// This function doesn't apply anymore.\n//\nEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n  return this;\n};\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/eventemitter3/index.js\n ** module id = 7\n ** module chunks = 1\n **/","//     uuid.js\n//\n//     Copyright (c) 2010-2012 Robert Kieffer\n//     MIT License - http://opensource.org/licenses/mit-license.php\n\n(function() {\n  var _global = this;\n\n  // Unique ID creation requires a high quality random # generator.  We feature\n  // detect to determine the best RNG source, normalizing to a function that\n  // returns 128-bits of randomness, since that's what's usually required\n  var _rng;\n\n  // Node.js crypto-based RNG - http://nodejs.org/docs/v0.6.2/api/crypto.html\n  //\n  // Moderately fast, high quality\n  if (typeof(_global.require) == 'function') {\n    try {\n      var _rb = _global.require('crypto').randomBytes;\n      _rng = _rb && function() {return _rb(16);};\n    } catch(e) {}\n  }\n\n  if (!_rng && _global.crypto && crypto.getRandomValues) {\n    // WHATWG crypto-based RNG - http://wiki.whatwg.org/wiki/Crypto\n    //\n    // Moderately fast, high quality\n    var _rnds8 = new Uint8Array(16);\n    _rng = function whatwgRNG() {\n      crypto.getRandomValues(_rnds8);\n      return _rnds8;\n    };\n  }\n\n  if (!_rng) {\n    // Math.random()-based (RNG)\n    //\n    // If all else fails, use Math.random().  It's fast, but is of unspecified\n    // quality.\n    var  _rnds = new Array(16);\n    _rng = function() {\n      for (var i = 0, r; i < 16; i++) {\n        if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n        _rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n      }\n\n      return _rnds;\n    };\n  }\n\n  // Buffer class to use\n  var BufferClass = typeof(_global.Buffer) == 'function' ? _global.Buffer : Array;\n\n  // Maps for number <-> hex string conversion\n  var _byteToHex = [];\n  var _hexToByte = {};\n  for (var i = 0; i < 256; i++) {\n    _byteToHex[i] = (i + 0x100).toString(16).substr(1);\n    _hexToByte[_byteToHex[i]] = i;\n  }\n\n  // **`parse()` - Parse a UUID into it's component bytes**\n  function parse(s, buf, offset) {\n    var i = (buf && offset) || 0, ii = 0;\n\n    buf = buf || [];\n    s.toLowerCase().replace(/[0-9a-f]{2}/g, function(oct) {\n      if (ii < 16) { // Don't overflow!\n        buf[i + ii++] = _hexToByte[oct];\n      }\n    });\n\n    // Zero out remaining bytes if string was short\n    while (ii < 16) {\n      buf[i + ii++] = 0;\n    }\n\n    return buf;\n  }\n\n  // **`unparse()` - Convert UUID byte array (ala parse()) into a string**\n  function unparse(buf, offset) {\n    var i = offset || 0, bth = _byteToHex;\n    return  bth[buf[i++]] + bth[buf[i++]] +\n            bth[buf[i++]] + bth[buf[i++]] + '-' +\n            bth[buf[i++]] + bth[buf[i++]] + '-' +\n            bth[buf[i++]] + bth[buf[i++]] + '-' +\n            bth[buf[i++]] + bth[buf[i++]] + '-' +\n            bth[buf[i++]] + bth[buf[i++]] +\n            bth[buf[i++]] + bth[buf[i++]] +\n            bth[buf[i++]] + bth[buf[i++]];\n  }\n\n  // **`v1()` - Generate time-based UUID**\n  //\n  // Inspired by https://github.com/LiosK/UUID.js\n  // and http://docs.python.org/library/uuid.html\n\n  // random #'s we need to init node and clockseq\n  var _seedBytes = _rng();\n\n  // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n  var _nodeId = [\n    _seedBytes[0] | 0x01,\n    _seedBytes[1], _seedBytes[2], _seedBytes[3], _seedBytes[4], _seedBytes[5]\n  ];\n\n  // Per 4.2.2, randomize (14 bit) clockseq\n  var _clockseq = (_seedBytes[6] << 8 | _seedBytes[7]) & 0x3fff;\n\n  // Previous uuid creation time\n  var _lastMSecs = 0, _lastNSecs = 0;\n\n  // See https://github.com/broofa/node-uuid for API details\n  function v1(options, buf, offset) {\n    var i = buf && offset || 0;\n    var b = buf || [];\n\n    options = options || {};\n\n    var clockseq = options.clockseq != null ? options.clockseq : _clockseq;\n\n    // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n    // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n    // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n    // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n    var msecs = options.msecs != null ? options.msecs : new Date().getTime();\n\n    // Per 4.2.1.2, use count of uuid's generated during the current clock\n    // cycle to simulate higher resolution clock\n    var nsecs = options.nsecs != null ? options.nsecs : _lastNSecs + 1;\n\n    // Time since last uuid creation (in msecs)\n    var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n    // Per 4.2.1.2, Bump clockseq on clock regression\n    if (dt < 0 && options.clockseq == null) {\n      clockseq = clockseq + 1 & 0x3fff;\n    }\n\n    // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n    // time interval\n    if ((dt < 0 || msecs > _lastMSecs) && options.nsecs == null) {\n      nsecs = 0;\n    }\n\n    // Per 4.2.1.2 Throw error if too many uuids are requested\n    if (nsecs >= 10000) {\n      throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n    }\n\n    _lastMSecs = msecs;\n    _lastNSecs = nsecs;\n    _clockseq = clockseq;\n\n    // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n    msecs += 12219292800000;\n\n    // `time_low`\n    var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n    b[i++] = tl >>> 24 & 0xff;\n    b[i++] = tl >>> 16 & 0xff;\n    b[i++] = tl >>> 8 & 0xff;\n    b[i++] = tl & 0xff;\n\n    // `time_mid`\n    var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n    b[i++] = tmh >>> 8 & 0xff;\n    b[i++] = tmh & 0xff;\n\n    // `time_high_and_version`\n    b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n    b[i++] = tmh >>> 16 & 0xff;\n\n    // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n    b[i++] = clockseq >>> 8 | 0x80;\n\n    // `clock_seq_low`\n    b[i++] = clockseq & 0xff;\n\n    // `node`\n    var node = options.node || _nodeId;\n    for (var n = 0; n < 6; n++) {\n      b[i + n] = node[n];\n    }\n\n    return buf ? buf : unparse(b);\n  }\n\n  // **`v4()` - Generate random UUID**\n\n  // See https://github.com/broofa/node-uuid for API details\n  function v4(options, buf, offset) {\n    // Deprecated - 'format' argument, as supported in v1.2\n    var i = buf && offset || 0;\n\n    if (typeof(options) == 'string') {\n      buf = options == 'binary' ? new BufferClass(16) : null;\n      options = null;\n    }\n    options = options || {};\n\n    var rnds = options.random || (options.rng || _rng)();\n\n    // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n    rnds[6] = (rnds[6] & 0x0f) | 0x40;\n    rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n    // Copy bytes to buffer, if provided\n    if (buf) {\n      for (var ii = 0; ii < 16; ii++) {\n        buf[i + ii] = rnds[ii];\n      }\n    }\n\n    return buf || unparse(rnds);\n  }\n\n  // Export public API\n  var uuid = v4;\n  uuid.v1 = v1;\n  uuid.v4 = v4;\n  uuid.parse = parse;\n  uuid.unparse = unparse;\n  uuid.BufferClass = BufferClass;\n\n  if (typeof(module) != 'undefined') {// && module.exports) {\n    // Publish as node.js module\n    module.exports = uuid;\n  } else  if (typeof define === 'function' && define.amd) {\n    // Publish as AMD module\n    define(function() {return uuid;});\n\n\n  } else {\n    // Publish as global (in browsers)\n    var _previousRoot = _global.uuid;\n\n    // **`noConflict()` - (browser only) to reset global 'uuid' var**\n    uuid.noConflict = function() {\n      _global.uuid = _previousRoot;\n      return uuid;\n    };\n\n    _global.uuid = uuid;\n  }\n}).call(this);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/node-uuid/uuid.js\n ** module id = 8\n ** module chunks = 1\n **/","(function () {\n\n\t'use strict';\n\n\tvar List = require('../list'),\n\t\tHash = require('../hash'),\n\t\tpeace = {\n\t\t\tstate: new Hash(),\n\t\t\tverbs: require('../verbs'),\n\t\t\tchannel: function (channel) {\n\t\t\t\treturn {\n\t\t\t\t\tspark: function (Spark, server, spark) { //console.log('peace.channel().spark()'); //, Spark, server, spark);\n\t\t\t\t\t\tvar state;\n\t\t\t\t\t\tif (state = peace.state.fetch(channel)) return state;\n\t\t\t\t\t\tpeace.state.store(channel, (\n\t\t\t\t\t\t\tstate = peace.spark(Spark, server, spark)\n\t\t\t\t\t\t\t\t.channel(channel)))\n\t\t\t\t\t\treturn state;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t},\n\t\t\tspark: function (Spark, server, spark) { //console.log('peace.spark()'); //, Spark, server, spark);\n\t\t\t\tvar state;\n\t\t\t\tif (state = peace.state.fetch('spark')) return state;\n\t\t\t\tSpark = (Spark || false).constructor === Function ? Spark : function () {};\n\t\t\t\tspark = (spark || false).constructor === Object ? spark : {};\n\t\t\t\tpeace.state.store('spark', (\n\t\t\t\t\tstate = new Spark(server, spark)));\n\t\t\t\treturn state;\n\t\t\t},\n\t\t\tmerge: (function () {\n\t\t\t\tvar has = Object.prototype.hasOwnProperty;\n\t\t\t\treturn function merge(alpha, omega) {\n\t\t\t\t\tvar key, verbs = {};\n\t\t\t\t\t/*\n\t\t\t\t\t\tDefensive because omega can\n\t\t\t\t\t\tbe passed in by a consumer. We may\n\t\t\t\t\t\tas well examine alpha the same way\n\t\t\t\t\t*/\n\t\t\t\t\talpha = (alpha || false).constructor === Object ? alpha : {};\n\t\t\t\t\tomega = (omega || false).constructor === Object ? omega : {};\n\t\t\t\t\tfor (key in alpha) {\n\t\t\t\t\t\tif (has.call(alpha, key) === true) {\n\t\t\t\t\t\t\tverbs[key] = (\n\t\t\t\t\t\t\t\thas.call(omega, key) === true) ? omega[key] : alpha[key];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn verbs;\n\t\t\t\t};\n\t\t\t}()),\n\t\t\tsparkList: new List(),\n\t\t\tchannelList: (function () {\n\t\t\t\tvar cache = new Hash();\n\t\t\t\treturn {\n\t\t\t\t\tstore: function (key) {\n\t\t\t\t\t\tvar state;\n\t\t\t\t\t\tcache.store(key, state = new List());\n\t\t\t\t\t\treturn state;\n\t\t\t\t\t},\n\t\t\t\t\tfetch: function (key) {\n\t\t\t\t\t\tvar state;\n\t\t\t\t\t\tif (!(state = cache.fetch(key))) cache.store(key, state = new List());\n\t\t\t\t\t\treturn state;\n\t\t\t\t\t},\n\t\t\t\t\tpurge: function (key) {\n\t\t\t\t\t\tvar state;\n\t\t\t\t\t\tif (state = cache.fetch(key)) cache.purge(key);\n\t\t\t\t\t\treturn state;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}()),\n\t\t\temitterList: (function () {\n\t\t\t\tvar cache = new Hash();\n\t\t\t\treturn {\n\t\t\t\t\tstore: function (key) {\n\t\t\t\t\t\tvar state;\n\t\t\t\t\t\tcache.store(key, state = new Hash());\n\t\t\t\t\t\treturn state;\n\t\t\t\t\t},\n\t\t\t\t\tfetch: function (key) {\n\t\t\t\t\t\tvar state;\n\t\t\t\t\t\tif (!(state = cache.fetch(key))) cache.store(key, state = new Hash());\n\t\t\t\t\t\treturn state;\n\t\t\t\t\t},\n\t\t\t\t\tpurge: function (key) {\n\t\t\t\t\t\tvar state;\n\t\t\t\t\t\tif (state = cache.fetch(key)) cache.purge(key);\n\t\t\t\t\t\treturn state;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}()),\n\t\t\tattachAllListeners: function (verbs, spark, peace, id) {\n\t\t\t\tvar verb;\n\t\t\t\tfor (verb in verbs) {\n\t\t\t\t\tif (verbs.hasOwnProperty(verb)) {\n\t\t\t\t\t\tthis.attachListener(verbs[verb], spark, peace, id);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tattachListener: function (verb, spark, peace, id) {\n\t\t\t\tif ((verb || false).constructor === String) {\n\t\t\t\t\tspark.on(verb, this.listenerFactory(verb, peace, id));\n\t\t\t\t}\n\t\t\t},\n\t\t\tlistenerFactory: function (verb, peace, id) {\n\t\t\t\treturn function (message, callback) { console.log('(primus)', verb);\n\t\t\t\t\tpeace.emitter()\n\t\t\t\t\t\t.emit(verb, { id: id, message: message }, callback);\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\n\tmodule.exports = peace;\n\n}());\n\n\n/** WEBPACK FOOTER **\n ** ./server/utilities.js\n **/"],"sourceRoot":""}